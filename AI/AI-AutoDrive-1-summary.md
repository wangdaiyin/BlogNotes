# 人工智能之自动驾驶系列（一）：概要

>**版权声明**：本文系个人经多处资料学习、吸收、整理而得，如需装载，请注明出处：。文中若有笔误或不正确的地方，烦请包涵并指出，谢谢。   

>**内容说明**：本系列内容大致包括自动驾驶概念、前沿动态、市场分析、应用场景、国家政策、技术框架、研究现状、典型方案、未来趋势与个人思考、动手实践等。  

>**关键词**：人工智能，自动驾驶，机器学习，深度学习，创新创业，前沿  

## 一、自动驾驶背景
随着深度学习技术的崛起、人工智能的备受关注，自动驾驶，作为AI中备受关注的重要落脚点，也被炒的火热，更让人充满了幻想。

#### 1.1 自动驾驶的概念
自动驾驶，也常被人称作无人驾驶、无人车等，但这几个词的表述其实是有所区别的，英文里常见的表述有autopilot，automatic driving，self-driving等，这里不作科普。关于自动驾驶，在概念上业界有着明确的等级划分，主要有两套标准：一套是NHSTAB（美国高速公路安全管理局）制定的，一套是SAE International（国际汽车工程师协会）制定的。现在主要统一采用[SAE分类标准](http://sae.org/autodirve)。以下附上专业分级定义：
>**0级：人工驾驶**，即无自动驾驶。由人类驾驶员全权操控汽车，可以得到警告或干预系统的辅助；  
>**1级：辅助驾驶**，通过驾驶环境对方向盘和加减速中的一项操作提供驾驶支持，其他的驾驶动作都由人类驾驶员进行操作；  
>**2级：半自动自动驾驶**，通过驾驶环境对方向盘和加减速中的多项操作提供驾驶支持，其他的驾驶动作都由人类驾驶员进行操作；  
>**3级：高度自动驾驶**，或者称有条件自动驾驶，由自动驾驶系统完成所有的驾驶操作。根据系统要求，人类驾驶者需要在适当的时候提供应答；  
>**4级：超高度自动驾驶**，由自动驾驶系统完成所有的驾驶操作。根据系统要求，人类驾驶者不一定需要对所有的系统请求做出应答，包括限定道路和环境条件等；  
>**5级：全自动驾驶**，在所有人类驾驶者可以应付的道路和环境条件下，均可以由自动驾驶系统自主完成所有的驾驶操作。  

总的来说，**分级的核心区别在于自动化程度**，重点体现在转向与加减速控制、对环境的观察、激烈驾驶的应对、适用环境范围上的自动化程度。就目前来说，还在进行L3、L4级的研发，离电影中所展示的那些L5全自动驾驶还有比较长的一段距离。

#### 1.2 前沿动态
现阶段，无人驾驶技术发展正如火如荼，以下先梳理了一下[2016年来国外自动驾驶的一些大事件](https://36kr.com/p/5062122.html)：
>* 2016年1月，通用汽车投资5亿美元给Lyft（美国第二大移动出行公司），此后3月，通用汽车六亿美元收购无人车技术初创企业Cruise Automation，吹响了传统车企“以资金换技术”的号角。
>* 2016年5月，一位来自美国俄亥俄州的40岁男子Joshua Brown，驾驶特斯拉Model S到一个十字路口时，与一辆大型拖车发生意外碰撞事故后死亡。事故发生时Model S的 Autopilot自动辅助驾驶模式处于开启状态。但这一事件并未停止特斯拉在无人驾驶上的投入与发展，反而答复增加了研发和投资力度。面对现有技术中存在的弊端，唯有研发更先进的技术才是最好的解决途径。
>* 2016年7月，宝马（世界知名汽车厂商）、英特尔（世界顶级芯片厂商）、Mobileye（ADAS高级辅助驾驶系统领域专家）联合宣布将合作研发无人驾驶汽车，优势互补，各取所需，也减少了筹措发展自动驾驶技术的资金和人才对自身主营业务的冲击。类似的模式曾也发生在微软、英特尔、戴尔联想等身上。
>* 2016年8月，负责新加坡无人驾驶出租车项目的科技公司nuTonom，宣布世界上第一批无人驾驶出租车在新加坡开始载客运营。
>* 2016年8月，Uber出资6.8亿美元收购无人驾驶货车公司Otto，Otto联合创始人是前谷歌无人驾驶核心工程师Anthony Levandowski。此外，Uber有投资5亿美元用于构建自身地图服务，并与沃尔沃联合投资3亿美元共同开发自动驾驶汽车，基本完善了自动驾驶领域的技术布局。9月份，Uber在匹兹堡推出自由的无人驾驶汽车队。（小插曲：今年2月，Google子公司Waymo对Levandowski提出了一项诉讼，声称其离职前窃取了公司自动驾驶汽车的机密资料。）
>* 2016年8月，福特联合百度投资1.5亿美元于激光雷达制造商Velodyne
>* 2016年9月，纽约时报发布报告，显示以软硬件一体化出名的苹果在无人驾驶项目（Titan）上遭遇重大挫折，苹果可能放弃打造硬件，全面转向无人驾驶软件。而此前5月，苹果还曾宣布10亿美元投资滴滴出行，但一概保密的苹果的无人驾驶项目发展究竟几何，还有待时间来揭晓答案。
>* 2016年10月，特斯拉宣布，旗下搭载全自动驾驶硬件的汽车开始量产，特斯拉由此成为世界上第一家量产全自动驾驶硬件的汽车制造商。虽然该套件是否能完全实现自动驾驶在业界仍有争议（新硬件依然未采用识高精度识别的激光雷达），但这一做法仍然大大推动了整个业界自动驾驶技术的发展。
>* 2016年12月，谷歌无人驾驶项目独立，专门成立新公司Waymo，主要合作对象是菲亚特-克莱斯勒。谷歌作为第一家主营业务跟汽车制造并无关系、依据互联网优势跨界涉足无人驾驶技术的公司，依靠人工智能和深度学习技术，在无人驾驶技术软件上取得了得天独厚的优势。
>* 2016年末，福特Fusion第二代自动驾驶汽车亮相，且此前有发布无人驾驶项目5年计划，执行力一流。福特是传统车企里唯一一家迭代自动驾驶汽车到第二代的汽车制造商，但其自动驾驶汽车相比特斯拉要稍显逊色。（除福特之外，这一年大众、奔驰、宝马、丰田、沃尔沃等也提出了自动驾驶相应计划）
>* 2017年7月，软银、通用和宝马等向无人驾驶初创公司Nauto投资1.59亿美元。
>* 下面是2017年的一些重大进展预测：
>>* 福特将在欧洲测试无人驾驶汽车;
>>* 沃尔沃将在中国测试100辆无人驾驶汽车;
>>* 通用无人驾驶汽车雪地测试
>>* 特斯拉马斯克声称将在11月或12月演示无人驾驶汽车从洛杉矶行驶到纽约。

接着，我们来说说[国内自动驾驶的情况](http://www.sohu.com/a/154964596_118540)，毕竟这跟我们的关联更加密切。先重点说一下**百度**：

* **百度**是BAT里唯一一家大举押注无人驾驶技术的公司，跟Google一样拥有人工智能和深度学习技术优势，从布局来看，百度有联合福特投资激光雷达制造商Velodyne，和芯片制造商英伟达达成合作，在整车制造商上主要与北汽达成了合作，同时与宝马、奇瑞、比亚迪等一众厂商也有展开合作。
>* 2013年百度无人驾驶项目在百度研究院起步；
>* 2014年7月，百度首次证实已启动“百度无人驾驶汽车”研发计划；
>* 2015年12月，百度宣布正式成立自动驾驶事业部，并提出著名时间表：“三年商用，五年量产”，预计2018年输出在城市简单路况下的自动驾驶实现商用；2020年前，逐步开放至高速公路和普通城市道路上的全自动驾驶实现量产。
>* 2016年9月，L3事业部正式亮相，后更名为智能汽车事业部，宣布已获得美国加州第15张无人驾驶测试牌照，
>* 2016年11月，已在公共道路上测试L3自动驾驶汽车。
>* 2017年4月，百度宣布“Apollo（阿波罗）计划”，将向汽车行业及自动驾驶领域的合作伙伴提供一个开放、完整、安全的软件平台，帮助他们结合车辆和硬件系统，快速搭建一套属于自己的完整的自动驾驶系统。据悉，百度也是全球范围内第一家宣布对外开放自己技术和平台的无人车技术企业。  
据了解，百度Apollo平台的结构包括一套完整的软硬件和服务体系，包括车辆平台、硬件平台、软件平台、云端数据服务等四大部分。百度会在车辆和传感器等领域选择协同度和兼容性最好的合作伙伴，共同组成协作联盟，推荐给项目参与方使用，进一步降低无人车的研发门槛，促进技术的快速普及。

然后，再看看其他大公司，基本无论是战略布局还是技术实力来看，其起步和现有成果都落户于百度一截：
* **腾讯**：2016年下半年，腾讯成立自动驾驶实验室；现已有入股特斯拉但不参与公司运营、联手四维图新入股地图公司Here，2017年5月与上海国际汽车城签约，将其无人驾驶汽车路测项目组落户上海；
* **阿里**：阿里正在与中国兵器工业集团公司共同推进中国自行研制的全球卫星导航系统——北斗卫星导航系统在民用化市场的落地。在投资汽车方面，阿里在2017年4月携手上汽推出首款互联网汽车，这是继阿里巴巴去年宣布设立10亿元的“互联网汽车基金”以来做出的首个成果，也是为未来开发无人驾驶所做的热身运动。
* **华为**：2017年，华为发布一份白皮书，详细介绍了电信网络对互联的汽车空间的价值，拿5G作为无人驾驶的敲门砖。涉及的领域包括智能停车，车队管理，与车载娱乐有关的数据，基于LTE的紧急服务等。报告还显示，截至2017年2月，该公司已经组建了无人驾驶研发团队，拥有超过200名开发者。在2017年巴塞罗那移动世界大会上，华为与沃达丰合作展示了其最新的创新成果，其中包括用于连接Cellular V2X（C-V2X）汽车的蜂窝技术。
* **传统汽车公司**：广汽、北汽等都在积极部署和研发、争取分得一杯羹。

接着，主要是一些**初创公司**。与其他创业领域蓬勃井喷的创业公司相比，无人驾驶这一领域的数量可谓寥寥无几，而真正具有核心技术，并拥有一定成熟商业模式的创业公司更是凤毛麟角，而且大多主要都是聚焦于某一细分技术上。举例来说：
* 蔚来科技：目前最北看好的创业公司，已获D轮融资；
* 景驰科技：原百度高级副总裁王劲所创，已获天使轮；
* 地平线机器人：提供计算机视觉芯片系统和自动驾驶平台研发，已获得B轮融资；
* 纵目科技、驭势科技、天隼图像等：聚焦于计算机视觉领域中辅助驾驶、智能监控或模式识别解决方案；
* 速腾聚创、禾赛科技、北科天绘、北醒光子等：聚焦于各类激光雷达系统；
* 行易道等：聚焦于自动驾驶所用的毫米波雷达解决方案；

总的来说，现在资本大量涌入自动驾驶领域，正处于群雄逐鹿的时代，风起云涌。至于实力强弱，可参考如下两个报告，评比角度不用，结果也是很不一致：  
>* 市场研究机构[Navigant发布的最新报告](https://www.navigantresearch.com/research/navigant-research-leaderboard-report-automated-driving)中，列出了18家未来10年内最有可能把L2、L3、L4级别自动驾驶汽车带进消费市场的18家公司，还根据技术、市场战略、生产实力、耐力、销售，营销和分销等9个不同维度对各公司的自动驾驶进展打分排名。其中，福特、通用（GM）、尼桑、戴姆勒位于第一梯队，而常被我们提起的Google Waymo、Tesla与宝马等一并分布在第二梯队，百度、Uber、nuTomy等位于第三梯度。  
>* 美国科技媒体[The Information调研结果](https://www.theinformation.com/the-informations-leaders-and-laggards-in-self-driving-cars)，主要根据技术、工程、商业模式对当今主要的17家发展L4级别及以上无人驾驶技术的公司进行了一次综合评估和排名，Google Waymo排名第一，Uber第二，戴姆勒、特斯拉nuTonomy、百度、通用等普遍靠前。

#### 1.3 市场分析

>* [报告|2017-2021年中国互联网+汽车行业发展前景预测及投资分析](https://wenku.baidu.com/view/ee12d80503020740be1e650e52ea551810a6c964.html?re=view)
>* [报告|奔向2021：自动驾驶汽车发展现状和重要的行业驱动者](http://www.sohu.com/a/114098030_473283)
>* [报告|2017年上半年全球无人驾驶投融资最全盘点](http://cj.sina.com.cn/article/detail/5996044761/304633)
>* [报告|2016年智能网联汽车报告：自动驾驶汽车的机遇、风险和动荡并存](https://www.strategyand.pwc.com/reports/connected-car-2016-study-cn)
>* [付费报告|2015-2021年中国无人驾驶汽车市场分析及投资策略研究报告](https://wenku.baidu.com/view/535d0332f121dd36a22d8202.html?re=view)

>据《财富》网站报道，英特尔和市场研究公司Strategy Analytics联合开展的一项最新研究表明，2035年无人驾驶汽车将创造达8000亿美元的市场规模，到2050年，与无人驾驶汽车相关的经济活动规模将达7万亿美元，包括无人驾驶汽车提供的打车服务规模将达到约4万亿美元，无人驾驶汽车提供的快递和商业物流服务规模将达到约3万亿美元。
>根据麦肯锡预测：到2025年，无人驾驶汽车可以产生2000亿~1.9万亿美元的产值。  
>据另一家全球分析机构IHS Research分析：全球无人驾驶量产汽车将在2025年上市，估计销量可达23万辆；到2035年，无人驾驶汽车年销量将达到1180万辆，约占总销量的10%；2035年无人驾驶汽车在北美市场份额可以达到29%，中国无人驾驶汽车市场份额为24%，欧洲市场份额为20%。


从上述材料可以看出，自动驾驶未来市场空间巨大，投资界、产业界都普遍看好，下面从需求角度再来说说：

* 个体需求：开车本质上是一个需要保持长久视觉分析和肌肉反应的机械重复运动——这并非是人类的长处也往往不是人类所喜欢做的事情，而这恰恰是机器所擅长的。  
* 市场需求：自动驾驶不仅可以应用于交通出行，而且对于物流运输、城市规划等都将产生根本性的革新。  
* 资本需求：目前已有大量资本流入自动驾驶涉及的大数据、新型传感器、深度学习技术、全套解决方案等，资本的流动往往是行业发展最关键的催化剂，有投入就会要求回报，资本拥有者、想赚钱的各大公司必定会竭尽全力推动无人驾驶的尽早到来。  
* 社会需求：从现阶段美国、德国、中国等各个国家针对自动驾驶的政策来看，社会需求强烈，国家重视度也极高。
> 有报告称，如果自动驾驶汽车得到普及，美国每年可避免超过3万人死于交通事故，节约多达40%的出行时间成本，可节省因拥堵而浪费的800亿小时，并减少40%的燃油消耗。

#### 1.4 应用场景
根据应用场景的不同，自动驾驶系统可分为高速自动驾驶和低速自动驾驶（速度低于20km/h），后者实现难度要低很多。  
现有看好的主要业务模式有产品输出（与汽车厂商或一级供应商合作，将自有产品植入到汽车的前装序列，或者制作特定形状的自动驾驶机器）、技术输出(汽车厂商或一级供应商合作，提供软硬件解决方案)、物流合作等。
高速自动驾驶，个人项目中无法企及，这里就针对低速自动驾驶来谈谈其主要应用场景：  
1. **物流场景**：高速无人驾驶为城际物流运输车队提供自动驾驶技术，低速无人驾驶可解决末端物流（即最后3km），结合自动存货机，实现无人配送；  
2. **移动广告平台**：低速无人驾驶可实现不知疲倦无须人工成本的移动商业广告；  
3. **特定应用场景**,如景区游览车、低速代步工具、自动行驶的婴儿车、移动行李箱等；

#### 1.5 国家政策  
* **中国**：2015年，国务院印发了《中国制造2025》，将智能网联汽车列入未来十年国家智能制造发展的重点领域，明确指出到2020年要掌握智能辅助驾驶总体技术及各项关键技术，到2025年要掌握自动驾驶总体技术及各项关键技术。至今，已陆续出台《中国智能网联汽车标准体系建设》、《先进驾驶辅助系统术语和定义》、《中国智能网联汽车技术发展路线图》、《中国智能网联汽车技术发展路线图》。  
* **美国**：2016年发布了《美国自动驾驶汽车政策指南》，有比较完整的自动驾驶汽车法规。  
* **德国**：早在2013年便有允许自动驾驶车在国内进行路试，目前允许自动驾驶汽车路试，要求汽车制造商配备自动驾驶模式的汽车安装黑匣子，禁止特斯拉用“自动驾驶”做宣传。  
* **其他**：日本、法国、英国、新加坡、韩国等国家也已陆续出台相关政策，联合国目前也有着手修改国际道路交通安全法规，编制全球统一的自动驾驶汽车技术标准，制定汽车自动驾驶安全标准。  

**初步结论**：从国家政策标准可以看出各个国家对未来自动驾驶的支持与看好，但也看得出自动驾驶的发展将是一个比较漫长的过程。


## 二、技术框架
自动驾驶核心技术包括汽车制造技术、自动驾驶芯片、自动驾驶软件、高精度地图、传感器通信网络等。

自动驾驶是一个完整的软硬件交互系统，总体上可大致分为如下三个模块： 

* 环境感知模块：主要通过传感器来感知环境信息，比如通过工业级摄像机、激光雷达、毫米波雷达等来获取环境信息，通过GPS获取车身状态信息。主要包括道路检测、交通标志识别、车辆识别、行人检测、相对速度估计、相对位置确定

* 行为决策模块：根据路网信息、获取到的实时交通环境信息和自身行驶状态，产生遵守交通规则的驾驶决策的过程。通俗地说，就是实时规划出一条精密而合理的行驶轨迹。
行为决策需要根据实时路网信息、交通环境信息和自身驾驶状态信息，产生遵守交通规则（包括突发异常状况）的安全快速的自动驾驶决策（运动控制）。这里面涉及到大数据量、高复杂度的决策模型，正是深度学习和强化学习算法所擅长处理的任务场景。

* 运动控制模块：根据规划的行驶轨迹，以及当前行驶的位置、姿态和速度，产生对油门、刹车、方向盘和变速杆等的控制命令。


自动驾驶系统在汽车上的硬件布局大致如下图所示：


车载深度学习芯片开发
现有CPU、GPU计算结构对于深度学习来说存在很大的不合理性。
具体说来：深度学习的输入是高度密集化的，这种密集化输入不太适合DSP这种流水线式的；而GPU的一个问题在于，在应对多输入之后的下一步处理时，数据缓冲方面做得不好；很不幸的是，深度网络的输入是前后关联的，在中间隐藏层的时候，卷积运算更是需要高密集度的前后关联式取参和计算，这就会导致在目前的计算结构下会出现大量的溢出。
通讯传输宽带永远是有限的，还有不可忽视的功耗问题。目前的深度学习芯片开发跟前些年的智能手机领域比较像。我们知道，在大约十年前的时候，手机业界还没有说一定要做自己的芯片。但是今天大家已经看得非常清楚，如果要想做起来必须做自己的芯片，苹果、三星、华为都是自己的；如果你不这么做而只是使用高通的平台，你就只能是第二梯队。所以对于深度学习大致也会是这样，你也可以用英伟达、高通的芯片，可这将不是第二名和第一名的差距，而是第二梯队和第一梯队的差距。目前国内也有不少公司在做，比如赫赫有名的地平线，还有另外一家叫做深鉴科技的。最近深鉴发布了产品，叫做DPU，深度学习处理器。他们在单位功耗下的性能表现是英特尔CPU的24000倍，是英伟达GPU的3000倍。而他们所做的优化的工作，恰恰集中在对于压缩、访问的优化，果然大大降低了功耗。而国际行业巨头英伟达更是赶在CES2016发布了Drive PX2，这是一款为自动驾驶和深度学习量身订做的车载芯片，官方表示它的图像处理速度是Titan X的6倍，是Core i7的150倍。业内大佬们评论，虽然老黄（英伟达CEO黄仁勋）向来吹牛成性，但Drive PX2应该是基于目前移动端最强的GPU m980架构研发的，看起来要实现深度学习能力翻三倍不成问题吧。


## 四、典型方案
这里先不作细讲，仅附上一些参考资料：  
>1. [深度学习驱动的自动驾驶新主流框架盘点](http://www.sohu.com/a/114098030_473283)：结合Nvidia、 Mobileye、Comma.ai的自动驾驶框架研究现状，谈谈深度智驾的原理、优点和未来。
>2. DeepMANTA，发表于CVPR2017，指出简单的2D计算机视觉任务的突破并非是自动驾驶最需要的，更需要的是对整个环境360度的立体感知，也就是3D建模和运动估计。

注：具体技术细节待日后有需要接触再行整理。

## 五、未来趋势与个人思考
未来趋势主要有自动驾驶、车联网、共享化、新能源。

无人驾驶出租车服务模式、


1. 自动驾驶是否是伪需求？
2. 自动驾驶的哲学思考：机器和人的博弈  
	核心问题在于安全问题，其次是技术变革带来的诸如失业等社会影响  
	>安全问题的争议  
	>>* 从统计角度来说，安全性：“自动驾驶系统正常工作的情况下，是否能够保证行驶安全，降低事故率”。 目前已经有一些数据（比如Google发布的报告）表明，自动驾驶汽车在舒适性和安全性上均可超过人类驾驶员平均水平；  
	这里引用一下特斯拉CEO马斯克在特斯拉车祸事件后的回应：
	>>>“我们目前的自动辅助驾驶已经被证明能提供比手动驾驶安全性，在道路致死率上面是世界平均水平的1/3。即便是退一万步来讲，我们的系统只比人工好1%，那么一年车祸导致的120万人里面，我们也能拯救1万2千人。所以我觉得如果你有这样一个提高安全的技术，仅仅因为怕舆论或者法律起诉就雪藏起来，这在道德上是错误的。”
	>
	>>* 从技术实现角度来说，自动驾驶系统是否有足够的能力处理各种复杂的、突发的异常驾驶状况，充分保障安全? 就目前的技术来说，的确还无法实现全自动驾驶（L5），L4都还存在很多困难，但路是慢慢走的，技术革新也不是一朝一夕的事情，但从目前的技术发展以及资本流向来看，我对技术层面的问题持乐观态度！就拿机器与人相比，其一，自动驾驶系统感知范围和敏锐度比人类强，而不断升级的硬件系统和不断降低的硬件成本将更加增强这个优势；其二，自动驾驶系统比人类精力更充沛，不会出现疲劳驾驶的问题；其三，自动驾驶系统比人类更理性，在任何极端或异常情况下都不会因为情绪问题而出错。 可靠性：“自动驾驶系统正常工作的情况下，是否能够保证行驶安全，降低事故率”，除去硬件故障，更让人恐惧的是黑客攻击的潜在不可控风险。  
	
	>法律政策和伦理道德问题  
	>> 究权定责：车主、生产商，黑盒子
3. 无人驾驶，即L4级及L5级自动驾驶，多久后才能进入生活日常？
自动驾驶从技术和资本走向产品和市场，大致需要经过：①成品测试；②量产投放；③融入生活；④成为主流。
4. 如何挤入自动驾驶浪潮？  
除去巨人马斯克明确表示要硬件、软件、网络一把抓，其他诸如Google、Apple、英特尔、通用汽车、百度等大公司都是选择与各方合作、优势互补来实现整套系统解决方案。
百度无人车技术平台、
细分垂直领域
结合本身业务发展，譬如华为,
>华为很有可能以其最擅长的通信领域上的顶尖技术和产品经验，切入自动驾驶的车联网部分。显然，这是一个大有可为的方向。而对于造车、算法、芯片等方面，华为则需要和相关的传统车企、互联网企业和硬件芯片厂商合作。


## 六、手把手教你快速实现简易版L3级自动驾驶汽车


 
