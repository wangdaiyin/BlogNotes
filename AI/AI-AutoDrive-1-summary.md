# 人工智能之自动驾驶系列（一）：概要

>**版权声明**：本文系个人经多处资料学习、吸收、整理而得，如需装载，请注明出处：作者名+链接。文中若有笔误或不正确的地方，烦请包涵并指出，谢谢。   

>**内容说明**：本系列内容大致包括自动驾驶概念、前沿动态、市场分析、应用场景、国家政策、技术框架、研究现状、典型方案、未来趋势与个人思考、动手实践简易版L3自动驾驶汽车等。  

>**关键词**：人工智能，自动驾驶，机器学习，深度学习，创新创业，前沿  

## 一、自动驾驶背景
随着深度学习技术的崛起、人工智能的备受关注，自动驾驶，作为AI中备受关注的重要落脚点，也被炒的火热，更让人充满了幻想。

#### 1.1 自动驾驶的概念
自动驾驶，也常被人称作无人驾驶、无人车等，但这几个词的表述其实是有所区别的，英文里常见的表述有autopilot，automatic driving，self-driving，driveless等，这里不作科普。关于自动驾驶，在概念上业界有着明确的等级划分，主要有两套标准：一套是NHSTAB（美国高速公路安全管理局）制定的，一套是SAE International（国际汽车工程师协会）制定的。现在主要统一采用[SAE分类标准](http://sae.org/autodirve)。以下附上专业分级定义：
>**0级：人工驾驶**，即无自动驾驶。由人类驾驶员全权操控汽车，可以得到警告或干预系统的辅助；  
>**1级：辅助驾驶**，通过驾驶环境对方向盘和加减速中的一项操作提供驾驶支持，其他的驾驶动作都由人类驾驶员进行操作；  
>**2级：半自动自动驾驶**，通过驾驶环境对方向盘和加减速中的多项操作提供驾驶支持，其他的驾驶动作都由人类驾驶员进行操作；  
>**3级：高度自动驾驶**，或者称有条件自动驾驶，由自动驾驶系统完成所有的驾驶操作。根据系统要求，人类驾驶者需要在适当的时候提供应答；  
>**4级：超高度自动驾驶**，由自动驾驶系统完成所有的驾驶操作。根据系统要求，人类驾驶者不一定需要对所有的系统请求做出应答，包括限定道路和环境条件等；  
>**5级：全自动驾驶**，在所有人类驾驶者可以应付的道路和环境条件下，均可以由自动驾驶系统自主完成所有的驾驶操作。  

总的来说，**分级的核心区别在于自动化程度**，重点体现在转向与加减速控制、对环境的观察、激烈驾驶的应对、适用环境范围上的自动化程度。就目前来说，还在进行L3、L4级的研发，离电影中所展示的那些L5全自动驾驶还有比较长的一段距离。

#### 1.2 前沿动态
现阶段，无人驾驶技术发展正如火如荼，以下先梳理了一下[2016年来国外自动驾驶的一些大事件](https://36kr.com/p/5062122.html)：
>* 2016年1月，通用汽车投资5亿美元给Lyft（美国第二大移动出行公司），此后3月，通用汽车六亿美元收购无人车技术初创企业Cruise Automation，吹响了传统车企“以资金换技术”的号角。
>* 2016年5月，一位来自美国俄亥俄州的40岁男子Joshua Brown，驾驶特斯拉Model S到一个十字路口时，与一辆大型拖车发生意外碰撞事故后死亡。事故发生时Model S的 Autopilot自动辅助驾驶模式处于开启状态。但这一事件并未停止特斯拉在无人驾驶上的投入与发展，反而大幅增加了研发和投资力度。面对现有技术中存在的弊端，研发更先进的技术是最好的解决途径。
>* 2016年7月，宝马（世界知名汽车厂商）、英特尔（世界顶级芯片厂商）、Mobileye（ADAS高级辅助驾驶系统领域专家）联合宣布将合作研发无人驾驶汽车，优势互补，各取所需，也减少了筹措发展自动驾驶技术的资金和人才对自身主营业务的冲击。类似的模式曾也发生在微软、英特尔、戴尔联想等身上。
>* 2016年8月，负责新加坡无人驾驶出租车项目的科技公司nuTonom，宣布世界上第一批无人驾驶出租车在新加坡开始载客运营。
>* 2016年8月，Uber出资6.8亿美元收购无人驾驶货车公司Otto，Otto联合创始人是前谷歌无人驾驶核心工程师Anthony Levandowski。此外，Uber有投资5亿美元用于构建自身地图服务，并与沃尔沃联合投资3亿美元共同开发自动驾驶汽车，基本完善了自动驾驶领域的技术布局。9月份，Uber在匹兹堡推出自由的无人驾驶汽车队。（小插曲：今年2月，Google子公司Waymo对Levandowski提出了一项诉讼，声称其离职前窃取了公司自动驾驶汽车的机密资料。）
>* 2016年8月，福特联合百度投资1.5亿美元于激光雷达制造商Velodyne
>* 2016年9月，纽约时报发布报告，显示以软硬件一体化出名的苹果在无人驾驶项目（Titan）上遭遇重大挫折，苹果可能放弃打造硬件，全面转向无人驾驶软件。而此前5月，苹果还曾宣布10亿美元投资滴滴出行，但一概保密的苹果的无人驾驶项目发展究竟几何，还有待时间来揭晓答案。
>* 2016年10月，特斯拉宣布，旗下搭载全自动驾驶硬件的汽车开始量产，特斯拉由此成为世界上第一家量产全自动驾驶硬件的汽车制造商。虽然该套件是否能完全实现自动驾驶在业界仍有争议（新硬件依然未采用识高精度识别的激光雷达），但这一做法仍然大大推动了整个业界自动驾驶技术的发展。
>* 2016年12月，谷歌无人驾驶项目独立，专门成立新公司Waymo，主要合作对象是菲亚特-克莱斯勒。谷歌作为第一家主营业务跟汽车制造并无关系、依据互联网优势跨界涉足无人驾驶技术的公司，依靠人工智能和深度学习技术，在无人驾驶技术软件上取得了得天独厚的优势。
>* 2016年末，福特Fusion第二代自动驾驶汽车亮相，且此前有发布无人驾驶项目5年计划，执行力一流。福特是传统车企里唯一一家迭代自动驾驶汽车到第二代的汽车制造商，但其自动驾驶汽车相比特斯拉要稍显逊色。（除福特之外，这一年大众、奔驰、宝马、丰田、沃尔沃等也提出了自动驾驶相应计划）
>* 2017年7月，软银、通用和宝马等向无人驾驶初创公司Nauto投资1.59亿美元。
>* 下面是2017年的一些重大进展预测：
>>* 福特将在欧洲测试无人驾驶汽车;
>>* 沃尔沃将在中国测试100辆无人驾驶汽车;
>>* 通用无人驾驶汽车雪地测试；
>>* 特斯拉马斯克声称将在11月或12月演示无人驾驶汽车从洛杉矶行驶到纽约。

接着，我们来说说[国内自动驾驶的情况](http://www.sohu.com/a/154964596_118540)，毕竟这跟我们的关联更加密切。先看看大公司，腾讯、阿里、华为基本无论是战略布局还是技术实力来看，其起步和现有成果都落户于百度一截，就目前来说如何最好的入局自动驾驶想必也该是这些大公司一直在思考的。 这里重点说一下**百度**：

* **百度**是BAT里唯一一家大举押注无人驾驶技术的公司，跟Google一样拥有人工智能和深度学习技术优势，从布局来看，百度有联合福特投资激光雷达制造商Velodyne，和芯片制造商英伟达达成合作，在整车制造商上主要与北汽达成了合作，同时与宝马、奇瑞、比亚迪等一众厂商也有展开合作。
>* 2013年百度无人驾驶项目在百度研究院起步；
>* 2014年7月，百度首次证实已启动“百度无人驾驶汽车”研发计划；
>* 2015年12月，百度宣布正式成立自动驾驶事业部，并提出著名时间表：“三年商用，五年量产”，预计2018年输出在城市简单路况下的自动驾驶实现商用；2020年前，逐步开放至高速公路和普通城市道路上的全自动驾驶实现量产。
>* 2016年9月，L3事业部正式亮相，后更名为智能汽车事业部，宣布已获得美国加州第15张无人驾驶测试牌照，
>* 2016年11月，已在公共道路上测试L3自动驾驶汽车。
>* 2017年4月，百度宣布“Apollo（阿波罗）计划”，将向汽车行业及自动驾驶领域的合作伙伴提供一个开放、完整、安全的[软件平台](http://apollo.auto/)，帮助他们结合车辆和硬件系统，快速搭建一套属于自己的完整的自动驾驶系统。据了解，百度Apollo平台的结构包括一套完整的软硬件和服务体系，包括车辆平台、硬件平台、软件平台、云端数据服务等四大部分。百度会在车辆和传感器等领域选择协同度和兼容性最好的合作伙伴，共同组成协作联盟，推荐给项目参与方使用，进一步降低无人车的研发门槛，促进技术的快速普及。据悉，百度也是全球范围内第一家宣布对外开放自己技术和平台的无人车技术企业。    

* **腾讯**：2016年下半年，腾讯成立自动驾驶实验室；现已有入股特斯拉但不参与公司运营、联手四维图新入股地图公司Here，2017年5月与上海国际汽车城签约，将其无人驾驶汽车路测项目组落户上海；
* **阿里**：阿里正在与中国兵器工业集团公司共同推进中国自行研制的全球卫星导航系统——北斗卫星导航系统在民用化市场的落地。在投资汽车方面，阿里在2017年4月携手上汽推出首款互联网汽车，这是继阿里巴巴去年宣布设立10亿元的“互联网汽车基金”以来做出的首个成果，也是为未来开发无人驾驶所做的热身运动。
* **华为**：2017年，华为发布一份白皮书，详细介绍了电信网络对互联的汽车空间的价值，拿5G作为无人驾驶的敲门砖。涉及的领域包括智能停车，车队管理，与车载娱乐有关的数据，基于LTE的紧急服务等。报告还显示，截至2017年2月，该公司已经组建了无人驾驶研发团队，拥有超过200名开发者。在2017年巴塞罗那移动世界大会上，华为与沃达丰合作展示了其最新的创新成果，其中包括用于连接Cellular V2X（C-V2X）汽车的蜂窝技术。
* **传统汽车公司**：广汽、北汽等都在积极部署和研发、争取分得一杯羹。

接着，主要是一些**初创公司**。与其他创业领域蓬勃井喷的创业公司相比，无人驾驶这一领域的数量可谓寥寥无几，而真正具有核心技术，并拥有一定成熟商业模式的创业公司更是凤毛麟角，而且大多主要都是聚焦于某一细分技术上，举例来说：

* **蔚来科技**：目前最北看好的创业公司，已获D轮融资；
* **景驰科技**：原百度高级副总裁王劲所创，已获天使轮；
* **地平线机器人**：提供计算机视觉芯片系统和自动驾驶平台研发，已获得B轮融资；
* 纵目科技、驭势科技、天隼图像等：聚焦于计算机视觉领域中辅助驾驶、智能监控或模式识别解决方案；
* 速腾聚创、禾赛科技、北科天绘、北醒光子等：聚焦于各类激光雷达系统；
* 行易道等：聚焦于自动驾驶所用的毫米波雷达解决方案；  
其中最受关注、最被看好的初创公司（景驰科技、地平线机器人等）基本都跟百度系（原百度高管或技术负责人）有关。

总的来说，现在资本大量涌入自动驾驶领域，正处于群雄逐鹿的时代，风起云涌。至于实力强弱，可参考如下两个报告，评比角度不同，结果也是很不一致：  
>* 市场研究机构[Navigant发布的最新报告](https://www.navigantresearch.com/research/navigant-research-leaderboard-report-automated-driving)中，列出了18家未来10年内最有可能把L2、L3、L4级别自动驾驶汽车带进消费市场的18家公司，还根据技术、市场战略、生产实力、耐力、销售，营销和分销等9个不同维度对各公司的自动驾驶进展打分排名。其中，福特、通用（GM）、尼桑、戴姆勒位于第一梯队，而常被我们提起的Google Waymo、Tesla与宝马等一并分布在第二梯队，百度、Uber、nuTomy等位于第三梯度。  
>* 美国科技媒体[The Information调研结果](https://www.theinformation.com/the-informations-leaders-and-laggards-in-self-driving-cars)，主要根据技术、工程、商业模式对当今主要的17家发展L4级别及以上无人驾驶技术的公司进行了一次综合评估和排名，Google Waymo排名第一，Uber第二，戴姆勒、特斯拉nuTonomy、百度、通用等普遍靠前。

#### 1.3 市场分析
这里就拿数据说话：

>* [报告|2017-2021年中国互联网+汽车行业发展前景预测及投资分析](https://wenku.baidu.com/view/ee12d80503020740be1e650e52ea551810a6c964.html?re=view)
>* [报告|奔向2021：自动驾驶汽车发展现状和重要的行业驱动者](http://www.sohu.com/a/114098030_473283)
>* [报告|2017年上半年全球无人驾驶投融资最全盘点](http://cj.sina.com.cn/article/detail/5996044761/304633)
>* [报告|2016年智能网联汽车报告：自动驾驶汽车的机遇、风险和动荡并存](https://www.strategyand.pwc.com/reports/connected-car-2016-study-cn)
>* [付费报告|2015-2021年中国无人驾驶汽车市场分析及投资策略研究报告](https://wenku.baidu.com/view/535d0332f121dd36a22d8202.html?re=view)

>据《财富》网站报道，英特尔和市场研究公司Strategy Analytics联合开展的一项最新研究表明，2035年无人驾驶汽车将创造达8000亿美元的市场规模，到2050年，与无人驾驶汽车相关的经济活动规模将达7万亿美元，包括无人驾驶汽车提供的打车服务规模将达到约4万亿美元，无人驾驶汽车提供的快递和商业物流服务规模将达到约3万亿美元。
>
>根据麦肯锡预测：到2025年，无人驾驶汽车可以产生2000亿~1.9万亿美元的产值。
>  
>据另一家全球分析机构IHS Research分析：全球无人驾驶量产汽车将在2025年上市，估计销量可达23万辆；到2035年，无人驾驶汽车年销量将达到1180万辆，约占总销量的10%；2035年无人驾驶汽车在北美市场份额可以达到29%，中国无人驾驶汽车市场份额为24%，欧洲市场份额为20%。

从上述材料可以直观地了解到，自动驾驶未来市场空间巨大，投资界、产业界都普遍看好，下面从需求角度再来说说：

* **个体需求**：开车本质上是一个需要保持长久视觉分析和肌肉反应的机械重复运动——这并非是人类的长处也往往不是人类所喜欢做的事情，而这恰恰是机器所擅长的。  
* **市场需求**：自动驾驶不仅可以应用于交通出行，而且对于物流运输、城市规划等都将产生根本性的革新。  
* **资本需求**：目前已有大量资本流入自动驾驶涉及的大数据、新型传感器、深度学习技术、全套解决方案等，资本的流动往往是行业发展最关键的催化剂，有投入就会要求回报，资本拥有者、想赚钱的各大公司必定会竭尽全力推动无人驾驶的尽早到来。  
* **社会需求**：从现阶段美国、德国、中国等各个国家针对自动驾驶的政策来看，社会需求强烈，国家重视度也极高。
> 有报告称，如果自动驾驶汽车得到普及，美国每年可避免超过3万人死于交通事故，节约多达40%的出行时间成本，可节省因拥堵而浪费的800亿小时，并减少40%的燃油消耗。

#### 1.4 应用场景
根据应用场景的不同，自动驾驶系统可分为高速自动驾驶和低速自动驾驶（速度低于20km/h），后者实现难度要低很多。  
现有看好的主要业务模式有产品输出（与汽车厂商或一级供应商合作，将自有产品植入到汽车的前装序列，或者制作特定形状的自动驾驶机器）、技术输出(汽车厂商或一级供应商合作，提供软硬件解决方案)、物流合作等。
高速自动驾驶，个人项目中无法企及，这里就针对低速自动驾驶来谈谈其主要应用场景：  
1. **物流场景**：高速无人驾驶为城际物流运输车队提供自动驾驶技术，低速无人驾驶可解决末端物流（即最后3km），结合自动存货机，实现无人配送；  
2. **移动广告平台**：低速无人驾驶可实现不知疲倦无须人工成本的移动商业广告；  
3. **特定应用场景**,如景区游览车、低速代步工具、自动行驶的婴儿车、移动行李箱等；

#### 1.5 国家政策  
* **中国**：2015年，国务院印发了《中国制造2025》，将智能网联汽车列入未来十年国家智能制造发展的重点领域，明确指出到2020年要掌握智能辅助驾驶总体技术及各项关键技术，到2025年要掌握自动驾驶总体技术及各项关键技术。至今，已陆续出台《中国智能网联汽车标准体系建设》、《先进驾驶辅助系统术语和定义》、《中国智能网联汽车技术发展路线图》、《中国智能网联汽车技术发展路线图》。  
* **美国**：2016年发布了《美国自动驾驶汽车政策指南》，有比较完整的自动驾驶汽车法规。  
* **德国**：早在2013年便有允许自动驾驶车在国内进行路试，目前允许自动驾驶汽车路试，要求汽车制造商配备自动驾驶模式的汽车安装黑匣子，禁止特斯拉用“自动驾驶”做宣传。  
* **其他**：日本、法国、英国、新加坡、韩国等国家也已陆续出台相关政策，联合国目前也有着手修改国际道路交通安全法规，编制全球统一的自动驾驶汽车技术标准，制定汽车自动驾驶安全标准。  

**初步结论**：从国家政策标准可以看出各个国家对未来自动驾驶的支持与看好，但也看得出自动驾驶的发展将是一个比较漫长的过程。


## 二、技术框架

自动驾驶是一个完整的软硬件交互系统，自动驾驶核心技术包括硬件（汽车制造技术、自动驾驶芯片）、自动驾驶软件、高精度地图、传感器通信网络等。自动驾驶系统在汽车上的硬件布局大致如下图所示：
![](http://img.blog.csdn.net/20170819100910934?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvd2FuZ2RhaXlpbg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)

接下来重点关注自动驾驶软件部分，总体上可大致分为如下三个模块： 

* 环境感知模块：主要通过传感器来感知环境信息，比如通过摄像头、激光雷达、毫米波雷达、超声波传感器等来获取环境信息；通过GPS获取车身状态信息。具体来说，主要包括传感器数据融合、物体检测与物体分类（道路、交通标志、车辆、行人、障碍物等）、物体跟踪（行人移动）、定位（自身精确定位、相对位置确定、相对速度估计）等。
![](http://img.blog.csdn.net/20170819100933360?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvd2FuZ2RhaXlpbg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)
* 行为决策模块：行为决策需要根据实时路网信息、交通环境信息和自身驾驶状态信息，产生遵守交通规则（包括突发异常状况）的安全快速的自动驾驶决策（运动控制）。通俗地说，就是实时规划出一条精密而合理的行驶轨迹，可分为全局路径规划和局部路径规划，局部路径规划主要就是当出现道路损毁、存在障碍物等情况时找出可行驶区域行驶，路径规划的同时也得考虑最终理想的乘坐体验。  
* 运动控制模块：根据规划的行驶轨迹，以及当前行驶的位置、姿态和速度，产生对油门、刹车、方向盘和变速杆等的控制命令。

*注：这里主要参考了[一个朋友的文章](https://mp.weixin.qq.com/s?__biz=MzAwNDg3NDY1NQ==&mid=2247483876&idx=1&sn=92c9acf6442c825c0756a5bd46f5f150&chksm=9b240914ac5380024e16c946cc89639569ab086ff15154e490eeb69d1e2a3ffcc13289db9ae4&scene=21#wechat_redirect)，在此也友情分享一下。*

## 四、典型方案
基于深度学习架构的人工智能现已被广泛应用于自动驾驶实现，从自动驾驶初创公司、互联网公司到各大OEM厂商，都正在积极探索通过基于深度学习技术架构实现最终的自动驾驶解决方案，简单地说，深度学习一定程度上是在模拟人脑从外界环境中学习、理解甚至解决模糊歧义的过程，可以自动地学习如何完成给定的任务，譬如识别图像、识别语音甚至控制无人汽车自动行驶等。目前为止，[基于深度学习的自动驾驶主流框架](http://www.sohu.com/a/114098030_473283)主要有如下三个：    

* Nvidia的Drive PX系统【[论文链接](http://xueshu.baidu.com/s?wd=paperuri:(b6a3ae6ef83116b7186aeda3b2082d51)&filter=sc_long_sign&sc_ks_para=q%3DEnd+to+End+Learning+for+Self-Driving+Cars&tn=SE_baiduxueshu_c1gjeupa&ie=utf-8&sc_us=11165211043757236374)】：基于Torch7平台，将CNN集成到一个端到端的框架中，来实现实时识别和检测。
![Nvidia的Drive PX框架](http://img.blog.csdn.net/20170820203104674?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvd2FuZ2RhaXlpbg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)  

* Mobileye的IQ3系统【[论文链接](http://xueshu.baidu.com/s?wd=long+term+planning++by+short+term+prediction&tn=SE_baiduxueshu_c1gjeupa&cl=3&ie=utf-8&bs=paperuri%3A%28b6a3ae6ef83116b7186aeda3b2082d51%29&f=8&rsv_bp=1&rsv_sug2=0&sc_f_para=sc_tasktype%3D%7BfirstSimpleSearch%7D)】: 主要包括三个部分：感知、高精度地图和驾驶决策，其中Mobileye最成熟的是环境感知技术。
第一个部分，在环境感知上，值得一提的是，Mobileye并未采用端到端实现，而是将感知任务划分成多个模块，每个对应一个人工监督的神经网络，所得出的效果已经可以产品化。关于端到端的评价，以下引用下ShaShua的看法：
>ShaShua认为端到端不考虑专家经验，不考虑领域知识，不考虑人工监督，对极端情况（Corner Cases）的应变能力比较差。
![End2End VS Semantic](http://img.blog.csdn.net/20170820204218403?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvd2FuZ2RhaXlpbg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)  
第二个部分，在高精度地图的构建上，由于高精度地图供应商在生产和维护地图方面成本很高（使用高精度激光雷达来采集和制作地图本身就很昂贵），Mobileye则采取群体智能的方式来解决这个问题，通过大量装配在量产车上的Mobileye现有产品来分布式收集和更新数据。
第三个部分，也是自动驾驶技术公认的难点，即决策与规划技术。为更好地应对自动驾驶中的突发异常情况，论文里提出用短期预测促进长期规划，通过将两个DNN网络集成到不同时间点的激发器上，并采用Q-Learning的强化学习方法，实现由“预测到规划”的目标，框架如下：
![Mobileye](http://img.blog.csdn.net/20170820204941168?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvd2FuZ2RhaXlpbg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)

* Comma.ai的GeoHot端到端方法【[论文链接](http://xueshu.baidu.com/s?wd=paperuri%3A%28a55ca94d5ca10fb8e0eb2ef4e58a1cbd%29&filter=sc_long_sign&sc_ks_para=q%3DLearning%20a%20Driving%20Simulator&sc_us=3700222396363924537&tn=SE_baiduxueshu_c1gjeupa&ie=utf-8)】：指以摄像头的原始图像作为输入，直接输出车辆的速度和方向，中间就是用深度学习模型来拟合逼近最优驾驶策略。其代码是开源的，采用Python语言编写，涉及tensorflow，anaconda，cv2等多个深度学习常用开发框架。  
![Comma.ai](http://img.blog.csdn.net/20170820205621001?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvd2FuZ2RhaXlpbg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)  
GeoHot的基本原理是将摄像头获得的图像数据，利用Autoencoder编码（其中用到了最近备受关注的GAN），然后用一个RNN来从人类驾驶数据中进行转换学习，并最终预测下一步操作。

除去以上三个框架，有兴趣深入了解的可以关注2017年自动驾驶有关的最新论文，比如2017CVPR的DeepMANTA（着重D建模和运动估计）等。

>目前深度学习用于自动驾驶可以大概分为两类，一类是收集驾驶数据，离线训练模型，不断逼近人类驾驶员；另一类是在模拟器中，利用Q函数，不断自我决策和试错来提高驾驶技术。简单地分，GeoHot、Drive PX属于第一类，IQ3属于第二类。


## 五、未来趋势与个人思考
我认为，汽车行业的未来趋势主要有新能源、自动驾驶、车联网、共享化。而这四个，尤其后三者可以说是相辅相成的。这里仅自动驾驶展开来说，诸如车载深度学习芯片开发（姑且看看英特尔在IT届的地位）、传感器的融合/替代方案（激光雷达毕竟还是太贵，毫米波雷达精度又不够，能否寻找替代品或者如何融合多种廉价传感器满足要求仍是一个研究难点）、高精度地图的制作、决策与控制系统的研发、安全保障技术等会是未来的研究热点。

以下聊聊一些个人思考：

* 自动驾驶是否是伪需求？
	毫无疑问，答案是否定的，具体参见以上背景部分内容。
	
* 自动驾驶的哲学思考：机器和人的博弈？  
核心问题在于安全问题，其次是技术变革带来的诸如失业等社会影响 。简单地说两个点，第一是从统计角度来说机器比人靠谱，第二是大势所取，技术变革势在必行。具体可参考以下材料：

>* 统计层面上，目前已经有一些数据（比如Google发布的报告）表明，自动驾驶汽车在舒适性和安全性上均可超过人类驾驶员平均水平；  
>
>这里也引用一下特斯拉CEO马斯克在特斯拉车祸事件后的回应：
>>“我们目前的自动辅助驾驶已经被证明能提供比手动驾驶安全性，在道路致死率上面是世界平均水平的1/3。即便是退一万步来讲，我们的系统只比人工好1%，那么一年车祸导致的120万人里面，我们也能拯救1万2千人。所以我觉得如果你有这样一个提高安全的技术，仅仅因为怕舆论或者法律起诉就雪藏起来，这在道德上是错误的。”
>
>* 技术层面上，就拿机器与人相比，其一，自动驾驶系统感知范围和敏锐度比人类强，而不断升级的硬件系统和不断降低的硬件成本将更加增强这个优势；其二，自动驾驶系统比人类精力更充沛，不会出现疲劳驾驶的问题；其三，自动驾驶系统比人类更理性，在任何极端或异常情况下都不会因为情绪问题而出错。  

>* 法律政策和伦理道德层面，政策部分请参考1.5节所说，其次究权定责是关键，伦理道德层面我不作过多评论。但要提的一点是，自动驾驶的安全性、可靠性是需要重视的，对技术上的要求也要很高才行，毕竟除去硬件故障，更让人恐惧的是黑客攻击等的潜在不可控风险。  
 
从技术实现角度来说，自动驾驶系统是否有足够的能力处理各种复杂的、突发的异常驾驶状况，充分保障安全? 就目前的技术来说，的确还无法实现全自动驾驶（L5），L4都还存在很多困难，但路是慢慢走的，技术革新不是一朝一夕的事情。从目前的技术发展以及资本流向来看，我对技术层面的问题持乐观态度！

* 无人驾驶（主要指L4级及L5级自动驾驶），多久后才能进入生活日常？
与其自己瞎估计，不如多参考下各个公司的数据和报告，具体见背景一章。

* 现在如何挤入自动驾驶浪潮？  
肯定地说，现在想挤入自动驾驶的浪潮并不算晚，举例来说今年仍还有从百度离职来选择自动驾驶作为自主创业的，比如王劲的景驰科技。就目前来看，除去巨人马斯克明确表示要硬件、软件、网络一把抓，其他诸如Google、Apple、英特尔、通用汽车、百度等大公司都是选择与各方合作、优势互补来实现整套系统解决方案。
因此，现在要还想挤入自动驾驶的浪潮，可选择某一块技术领域或者针对某些垂直细分市场切入，如果有资源，能先抢占部分垂直细分市场，那也够喝一壶了。对于现有公司来说，可以想想自身公司业务是否能跟自动驾驶整个系统或者应用搭上线，譬如说华为以其最擅长的通信领域上的顶尖技术和产品经验，切入自动驾驶的通信/车联网部分就比较容易，但要是想自己造车、研发芯片或实现整套解决方案则无多大优势，且投入将很巨大，但以华为的脾性，投入大量资金想搞自我研发也是大有可能的。
如果自身技术实力比较差，不妨先借用百度无人车技术平台来快速实现自身产品，在如今的热潮下，想拿个天使投资也是很容易的，扯开来说，现在也是存在着很多类似项目从国家或者政府手中套零花钱的。


## 六、手把手教你快速实现简易版L3级自动驾驶汽车
1. 买一台电动汽车，一般车都留有USB调试接口（方便车厂调试用的），从车厂得知USB调式接口协议及其控制指令，通过FPGA开发板（型号为ZYNQ-7000）连接到USB调试控制系统，遵照协议说明在FPGA开发板上开发控制系统，然后计算机通过串口连接FPGA开发版并通过发出特定指令来进行汽车控制。说明：串口控制FPGA板的速度是115200bit/s，计算机可用UPS（2500W）供电。
2. 除去汽车本身（含车载雷达）等，需额外配置的硬件有：车顶上配置摄像头（含朝正前的1个主摄像头，朝左斜向45度和右斜向45度的3个辅助摄像头）、车的两前轮中心位置各装一个加速度传感器、车身里面装两个速度传感器（左右各装一个）、1个车载GPS、两台车载计算机（插1060显卡，主从机制）、1个车载显示器（7寸）。
3. 基于端到端的自动驾驶系统：
输入数据有GPS定位、摄像头数据、传感器数据等，通过基于深度学习模型的一系列处理，得到的输出为当下汽车该采取的方向、速度和加速度，然后把相关指令发送给汽车控制系统实现实时控制。
具体相关实现说明：
1) 对摄像头获取到的原始图像，基于CNN、GAN深度学习框架(这里也可以参考上面提到的主流框架)进行环境感知分析(道路、交通标志、车辆、行人、障碍物等检测、定位和识别)；
2) 通过双目视差获取到相对位置，通过对速度传感器数据、加速度传感器数据、采集的视频数据进行分析获取汽车速度和相对速度；
3) 通过GPS获得车的大致行驶路线(前后左右方向)， 局部细微的路径规划和避让，基于DCGAN、CNN-LSTM框架来实现。












